# ------------------------------------------------------------------------------
# Key Binding
# ------------------------------------------------------------------------------

# Add keybinding to quickly jump to the next diff chunk in the stage view
bind stage <Enter> :/^@@

bind generic G move-last-line
bind generic g none
bind generic gg move-first-line

# User-defined internal command that reloads tigrc
bind generic S :source ~/.config/tig/config

# Rebase -i
bind main R ?git rebase -i %(commit)

# Fetch
bind generic F ?git fetch
bind main F ?git fetch

# Enter Gitâ€™s interactive add for fine-grained staging of file content
bind generic I !git add -i %(file)

# Copy the commit Hash to clipboard
bind generic Y none
bind generic YH !@sh -c "git rev-parse --short %(commit) | $COPY_CMD"
bind generic YB !@sh -c "git show -s --format=%b $(commit) | $COPY_CMD"

# Add patch from selected file
bind status p ?git add --patch %(file)

# User-defined external command to amend the last commit
bind status + !git commit --amend

# Pick up back the commit editing message
# https://github.com/jorisroovers/gitlint/issues/90#issuecomment-511432519
bind status - !git commit --edit --file .git/COMMIT_EDITMSG

bind status D !git difftool --trust-exit-code %(commit) %(file)
